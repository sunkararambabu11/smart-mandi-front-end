<div class="product-moderation">
  <!-- Page Header -->
  <header class="page-header">
    <div class="header-content">
      <h1 class="page-title">Product Moderation</h1>
      <p class="page-subtitle">Review and approve farmer product listings</p>
    </div>
    <div class="header-actions">
      <button mat-stroked-button>
        <mat-icon>filter_list</mat-icon>
        Filter
      </button>
      <button mat-stroked-button>
        <mat-icon>refresh</mat-icon>
        Refresh
      </button>
    </div>
  </header>

  <!-- Stats Cards -->
  <div class="stats-grid">
    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-icon pending">
          <mat-icon>pending_actions</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">{{ pendingProducts.length }}</span>
          <span class="stat-label">Pending Review</span>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-icon approved">
          <mat-icon>check_circle</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">156</span>
          <span class="stat-label">Approved Today</span>
        </div>
      </mat-card-content>
    </mat-card>

    <mat-card class="stat-card">
      <mat-card-content>
        <div class="stat-icon rejected">
          <mat-icon>cancel</mat-icon>
        </div>
        <div class="stat-info">
          <span class="stat-value">12</span>
          <span class="stat-label">Rejected Today</span>
        </div>
      </mat-card-content>
    </mat-card>
  </div>

  <!-- Products Table -->
  <mat-card class="table-card">
    <mat-card-header>
      <mat-card-title>Pending Products</mat-card-title>
    </mat-card-header>
    <mat-card-content>
      <table mat-table [dataSource]="pendingProducts" class="products-table">
        <!-- Product Name Column -->
        <ng-container matColumnDef="name">
          <th mat-header-cell *matHeaderCellDef>Product</th>
          <td mat-cell *matCellDef="let product">
            <div class="product-cell">
              <div class="product-image"></div>
              <span class="product-name">{{ product.name }}</span>
            </div>
          </td>
        </ng-container>

        <!-- Farmer Column -->
        <ng-container matColumnDef="farmer">
          <th mat-header-cell *matHeaderCellDef>Farmer</th>
          <td mat-cell *matCellDef="let product">{{ product.farmer }}</td>
        </ng-container>

        <!-- Category Column -->
        <ng-container matColumnDef="category">
          <th mat-header-cell *matHeaderCellDef>Category</th>
          <td mat-cell *matCellDef="let product">
            <mat-chip-set>
              <mat-chip>{{ product.category }}</mat-chip>
            </mat-chip-set>
          </td>
        </ng-container>

        <!-- Price Column -->
        <ng-container matColumnDef="price">
          <th mat-header-cell *matHeaderCellDef>Price</th>
          <td mat-cell *matCellDef="let product">{{ product.price }}</td>
        </ng-container>

        <!-- Submitted Date Column -->
        <ng-container matColumnDef="submittedAt">
          <th mat-header-cell *matHeaderCellDef>Submitted</th>
          <td mat-cell *matCellDef="let product">
            {{ product.submittedAt | date : 'short' }}
          </td>
        </ng-container>

        <!-- Actions Column -->
        <ng-container matColumnDef="actions">
          <th mat-header-cell *matHeaderCellDef>Actions</th>
          <td mat-cell *matCellDef="let product">
            <div class="action-buttons">
              <button
                mat-icon-button
                color="primary"
                (click)="approveProduct(product.id)"
                matTooltip="Approve"
              >
                <mat-icon>check_circle</mat-icon>
              </button>
              <button
                mat-icon-button
                color="warn"
                (click)="rejectProduct(product.id)"
                matTooltip="Reject"
              >
                <mat-icon>cancel</mat-icon>
              </button>
              <button mat-icon-button [matMenuTriggerFor]="menu">
                <mat-icon>more_vert</mat-icon>
              </button>
              <mat-menu #menu="matMenu">
                <button mat-menu-item (click)="viewDetails(product.id)">
                  <mat-icon>visibility</mat-icon>
                  <span>View Details</span>
                </button>
                <button mat-menu-item>
                  <mat-icon>message</mat-icon>
                  <span>Contact Farmer</span>
                </button>
              </mat-menu>
            </div>
          </td>
        </ng-container>

        <tr mat-header-row *matHeaderRowDef="displayedColumns"></tr>
        <tr mat-row *matRowDef="let row; columns: displayedColumns"></tr>
      </table>
    </mat-card-content>
  </mat-card>
</div>



