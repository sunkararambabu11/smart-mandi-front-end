<div
  class="min-h-screen flex items-center justify-center p-4 
         bg-gradient-to-br from-primary-50 via-white to-gray-50"
>
  <div class="w-full max-w-md animate-slide-up">
    <mat-card class="!rounded-2xl !shadow-xl">
      <mat-card-content class="p-6">
        <!-- Header -->
        <div class="text-center mb-6">
          <div
            class="w-16 h-16 bg-primary-100 rounded-full mx-auto mb-4 
                   flex items-center justify-center"
          >
            <mat-icon class="text-4xl text-primary-600">lock_reset</mat-icon>
          </div>
          <h1 class="font-display text-2xl font-bold text-gray-900">
            Forgot Password?
          </h1>
          <p class="text-gray-600 mt-2">
            No worries! Enter your email and we'll send you a reset link.
          </p>
        </div>

        @if (submitted()) {
          <!-- Success State -->
          <div class="text-center py-8">
            <div
              class="w-20 h-20 bg-green-100 rounded-full mx-auto mb-4 
                     flex items-center justify-center"
            >
              <mat-icon class="text-5xl text-green-600">check_circle</mat-icon>
            </div>
            <h2 class="text-xl font-semibold text-gray-900 mb-2">
              Check your email
            </h2>
            <p class="text-gray-600 mb-6">
              We've sent a password reset link to<br />
              <strong>{{ form.get('email')?.value }}</strong>
            </p>
            <a
              routerLink="/auth/login"
              mat-stroked-button
              color="primary"
              class="!px-6"
            >
              Back to Login
            </a>
          </div>
        } @else {
          <!-- Form -->
          <form [formGroup]="form" (ngSubmit)="onSubmit()" class="space-y-4">
            <mat-form-field appearance="outline" class="w-full">
              <mat-label>Email Address</mat-label>
              <input
                matInput
                type="email"
                formControlName="email"
                placeholder="Enter your email"
                autocomplete="email"
              />
              <mat-icon matPrefix class="text-gray-400 mr-2">email</mat-icon>
              @if (form.get('email')?.hasError('required') && form.get('email')?.touched) {
                <mat-error>Email is required</mat-error>
              }
              @if (form.get('email')?.hasError('email') && form.get('email')?.touched) {
                <mat-error>Please enter a valid email</mat-error>
              }
            </mat-form-field>

            <button
              mat-raised-button
              color="primary"
              type="submit"
              [disabled]="form.invalid || isLoading()"
              class="w-full !py-3 !text-base !font-semibold !rounded-lg"
            >
              @if (isLoading()) {
                <mat-spinner diameter="20" class="inline-block mr-2"></mat-spinner>
                Sending...
              } @else {
                Send Reset Link
              }
            </button>
          </form>

          <div class="mt-6 text-center">
            <a
              routerLink="/auth/login"
              class="inline-flex items-center text-primary-600 
                     hover:text-primary-700 font-medium"
            >
              <mat-icon class="mr-1">arrow_back</mat-icon>
              Back to Login
            </a>
          </div>
        }
      </mat-card-content>
    </mat-card>
  </div>
</div>


